"use strict";exports.__esModule=!0;var react_1=require("react"),core_1=require("@material-ui/core"),hooks_1=require("../../app/hooks"),react_router_dom_1=require("react-router-dom"),arrayStyle_1=require("../Styles/arrayStyle"),Array_1=require("../../slices/Array"),Array_2=require("../../slices/Array"),List_1=require("../bits/List");function ConditionalLLRenderer(e){return 0===e.arr.length?react_1.default.createElement(core_1.Typography,{variant:"h6",color:"secondary"},"Queue is Empty!"):react_1.default.createElement(List_1.List,{arr:e.arr,active:e.active})}function Queue(){var r=hooks_1.useAppDispatch(),e=hooks_1.useAppSelector(function(e){return e.queue.arr}),t=hooks_1.useAppSelector(function(e){return e.queue.len}),a=react_1.useState(0),n=a[0],l=a[1],u=react_1.useState(t),c=u[0],o=u[1],i=react_1.useState(""),s=i[0],_=i[1],m=react_1.useState(!1),d=m[0],f=m[1],p=react_1.useState(0),y=p[0],v=p[1],E=react_1.useState(-1),h=E[0],b=E[1],g=react_1.useState(!1),k=g[0],A=g[1],S=react_1.useState(""),q=S[0],I=S[1],C=react_router_dom_1.useHistory(),L=arrayStyle_1.arrayStyles();react_1.useEffect(function(){var e=null;return k?e=setInterval(function(){b(0===y?h+1:h-1),(c<=h||h<0)&&A(!1)},200):clearInterval(e),function(){return clearInterval(e)}},[d,k,h,t]);function B(e){f(!0),_(e);var t=setInterval(function(){return f(!1)},2e3);return function(){return clearInterval(t)}}return react_1.default.createElement(core_1.Grid,{container:!0,spacing:3,justify:"center"},react_1.default.createElement(core_1.Grid,{item:!0,xs:10},react_1.default.createElement(core_1.Typography,{variant:"h4"},"Queue"),react_1.default.createElement(ConditionalLLRenderer,{arr:e,active:h})),react_1.default.createElement(core_1.Grid,{item:!0,xs:10},react_1.default.createElement(core_1.Button,{variant:"contained",className:L.transform,onClick:function(){switch(q){case"LinkedList":r(Array_2.linkedListTransform(e));break;case"Array":r(Array_2.arrayTransform(e));break;case"Stack":r(Array_2.stackTransform(e))}C.push("/"+q)}},"Transform"),react_1.default.createElement(core_1.Select,{labelId:"trans-label",className:"trans-select",value:q,label:"Transformation",autoWidth:!0,type:"text",onChange:function(e){var t=e.target.value;I(t)}},react_1.default.createElement(core_1.MenuItem,{value:"Array"},"array"),react_1.default.createElement(core_1.MenuItem,{value:"LinkedList"},"linkedList"),react_1.default.createElement(core_1.MenuItem,{value:"Stack"},"stack"))),react_1.default.createElement(core_1.Grid,{item:!0,xs:10},react_1.default.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},react_1.default.createElement(core_1.Button,{variant:"contained",onClick:function(){return r(Array_1.queueReset())}},"Refresh"),react_1.default.createElement(core_1.Button,{onClick:function(){return B("The length of queue is "+t)}},"GetSize"),react_1.default.createElement(core_1.Button,{onClick:function(){return B(0===t?"Queue is Empty !":"Queue is not empty!")}},"IsEmpty")),react_1.default.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},react_1.default.createElement(core_1.Button,{onClick:function(){0===e.length?B("Queue is Empty !"):B("The first element is "+e[0])}},"Peek"),react_1.default.createElement(core_1.Button,{onClick:function(){0===e.length?B("Queue is Empty !"):(B("The fetched element is "+e[0]),r(Array_1.queuePoll()))}},"Poll")),react_1.default.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"secondary"},react_1.default.createElement(core_1.Button,{onClick:function(){20<=e.length?B("The length of queue has reached uplimit !"):r(Array_1.queueAdd(n))}},"Add"),react_1.default.createElement(core_1.Button,{onClick:function(){e.includes(n)?B("Element is in the queue !"):B("Element is not in the queue !")}},"Contains")),react_1.default.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},react_1.default.createElement("div",{className:"label-container"},react_1.default.createElement(core_1.TextField,{className:"outlined-number",label:"Number",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:100,min:0}},defaultValue:t,variant:"outlined",size:"small",onChange:function(e){return l(+e.target.value)},style:{marginBottom:"10px"}})),react_1.default.createElement("div",null,react_1.default.createElement(core_1.TextField,{className:"outlined-number",label:"Length",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:20,min:0}},value:c,variant:"outlined",size:"small",onChange:function(e){var t=+e.target.value;0<=t&&t<=20?(o(t),r(Array_1.queueResize(t)),r(Array_1.queueReset())):B(t<0?"invalid length !":"value out of range !")}}))),react_1.default.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},react_1.default.createElement(core_1.Button,{onClick:function(){A(!0),o(t),b(0===y?0:t-1)}},"Iterator"),react_1.default.createElement(core_1.FormControl,{variant:"outlined",size:"small"},react_1.default.createElement(core_1.Select,{labelId:"order-label",className:"order-select",value:y,label:"Order",autoWidth:!0,type:"number",onChange:function(e){1===e.target.value?v(1):v(0)}},react_1.default.createElement(core_1.MenuItem,{value:0},"Ascending"),react_1.default.createElement(core_1.MenuItem,{value:1},"Descending")))),d&&react_1.default.createElement(core_1.Typography,{color:"secondary",variant:"h6"},s)))}exports.default=Queue;