"use strict";exports.__esModule=!0;var core_1=require("@material-ui/core"),hooks_1=require("../../app/hooks"),Tree_1=require("../bits/Tree"),react_1=require("react"),Tree_2=require("../../slices/Tree");function ConditionalTreeRenderer(e){return null===e.root?React.createElement(core_1.Box,{pt:5,pb:2},React.createElement(core_1.Typography,{variant:"h6",color:"secondary"},"AVLTree is Empty!")):React.createElement(Tree_1.Tree,{root:e.root,active:e.active})}var AVL=function(){var e=hooks_1.useAppDispatch(),t=hooks_1.useAppSelector(function(e){return e.bst.tree}),r=t.root,a=hooks_1.useAppSelector(function(e){return e.bst.visited}),n=react_1.useState(-1),o=n[0],c=n[1],l=react_1.useState(-1),i=l[0],u=l[1],s=react_1.useState(""),m=s[0],p=s[1],d=react_1.useState(!1),v=d[0],f=d[1],_=react_1.useState(1),h=_[0],b=_[1];react_1.useEffect(function(){console.log(t)},[v]);function E(e){f(!0),p(e);setInterval(function(){return f(!1)},2e3);return 1}var R=function(e){if(null!==e){R(e.left);var t=setInterval(function(){return c(e.val)},500);return R(e.right),function(){return clearInterval(t)}}},g=function(e){if(null!==e){var t=setInterval(function(){return c(e.val)},500);return g(e.left),g(e.right),function(){return clearInterval(t)}}},T=function(e){if(null!==e){T(e.left),T(e.right);var t=setInterval(function(){return c(e.val)},500);return function(){return clearInterval(t)}}},y=function(e,t){return null===e?0:t>e.val?y(e.right,t):y(e.left,t)};return React.createElement(core_1.Box,{pt:5},React.createElement(core_1.Grid,{container:!0,spacing:3,justify:"center"},React.createElement(core_1.Grid,{item:!0,xs:8},React.createElement(ConditionalTreeRenderer,{root:r,active:o})),React.createElement(core_1.Grid,{item:!0,xs:3},React.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},React.createElement(core_1.TextField,{className:"outlined-number",label:"Number",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:100,min:0}},defaultValue:o,variant:"outlined",size:"small",onChange:function(e){return c(+e.target.value)},style:{marginBottom:"10px"}}),React.createElement(core_1.TextField,{className:"outlined-number",label:"Node",type:"number",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:100,min:0}},defaultValue:i,variant:"outlined",size:"small",onChange:function(e){return u(+e.target.value)},style:{marginBottom:"10px"}}),React.createElement(core_1.FormControl,{variant:"outlined",size:"small"},React.createElement(core_1.Select,{labelId:"order-label",className:"order-select",value:h,label:"Order",autoWidth:!0,type:"number",onChange:function(e){var t=e.target.value;b(t)}},React.createElement(core_1.MenuItem,{value:1},"inOrder"),React.createElement(core_1.MenuItem,{value:2},"preOrder"),React.createElement(core_1.MenuItem,{value:3},"postOrder")))),React.createElement(core_1.ButtonGroup,{orientation:"vertical","aria-label":"vertical outlined button group",color:"primary"},React.createElement(core_1.Button,{onClick:function(){if(a.has(o))E("TreeNode already exists!");else{if(5<y(r,o))return void E("Tree has reached the height limit !");e(Tree_2.addNode(o))}}},"insert"),React.createElement(core_1.Button,{onClick:function(){a.has(o)?e(Tree_2.deleteNode(o)):E("TreeNode doesn't exist!")}},"remove"),React.createElement(core_1.Button,{onClick:function(){switch(h){case 1:R(r);break;case 2:g(r);break;case 3:T(r)}c(-1)}},"traverse"))),v&&React.createElement(core_1.Typography,{color:"secondary",variant:"h6"},m)))};exports.default=AVL;